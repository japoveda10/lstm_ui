{% extends 'base/base.html' %}

{% block navbar %}
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <a class="navbar-brand" href="{% url 'home' %}">LSTM Proposed Approach</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01"
        aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarColor01">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a class="nav-link" href="{% url 'home' %}">Home<span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'about' %}">About</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'contact_us' %}">Contact Us</a>
            </li>
            <li class="nav-item">
        </ul>
    </div>
</nav>
{% endblock %}

{% block title %}
{% endblock %}

{% block header %}
<div id="mainJumbotron" class="jumbotron">
    <h1 class="display-4 text-center">Predict</h1>
</div>
{% endblock %}

{% block content %}
<p id="instructions" class="text-center">Select the settings you would like to define:</p>

<div id="options" class="container text-center">
    <div class="row">
        <div class="col-sm">
            <p><b>Selected log: </b>{{ selectedLog }}</p>
        </div>
        <div class="col-sm">
            {{ trained_models_form }}
        </div>
        <div class="col-sm">
            {{ postprocessing_technique_form }}
        </div>
    </div>
    <div class="row justify-content-center">
        <input type="submit" value="Show Results" name="Show Results" />
    </div>
</div>

<div id="options" class="text-center">
    <h3><b>Running Cases</b></h3>
</div>

<!-- BPMN diagram container -->
<div id="canvas"></div>

<div id="runningCaseButtons" class="text-center">
    <input type="submit" value="Next Event" name="Next Event" />
    <input type="submit" value="Show Suffix" name="Show Suffix" />
</div>

<!-- viewer distro (with pan and zoom) -->
<script src="https://unpkg.com/bpmn-js@5.0.5/dist/bpmn-navigated-viewer.development.js"></script>

<!-- needed for this example only -->
<script src="https://unpkg.com/jquery@3.3.1/dist/jquery.js"></script>

<script>

    var diagramUrl = 'https://cdn.staticaly.com/gh/bpmn-io/bpmn-js-examples/dfceecba/starter/diagram.bpmn';

    // viewer instance
    var bpmnViewer = new BpmnJS({
      container: '#canvas'
    });


    /**
     * Open diagram in our viewer instance.
     *
     * @param {String} bpmnXML diagram to display
     */
    function openDiagram(bpmnXML) {

      // import diagram
      bpmnViewer.importXML(bpmnXML, function(err) {

        if (err) {
          return console.error('could not import BPMN 2.0 diagram', err);
        }

        // access viewer components
        var canvas = bpmnViewer.get('canvas');
        var overlays = bpmnViewer.get('overlays');


        // zoom to fit full viewport
        canvas.zoom('fit-viewport');

        // attach an overlay to a node
        overlays.add('SCAN_OK', 'note', {
          position: {
            bottom: 0,
            right: 0
          },
          html: '<div class="diagram-note">Mixed up the labels?</div>'
        });

        // add marker
        canvas.addMarker('SCAN_OK', 'needs-discussion');
      });
    }


    // load external diagram file via AJAX and open it
    $.get(diagramUrl, openDiagram, 'text');
  </script>

{% endblock %}

